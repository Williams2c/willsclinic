"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[219],{219:(e,t,a)=>{a.d(t,{f:()=>D});var o=a(3735),r=a(1885),s=a(67294),n=a(57717),l=a(45842),i=a(26145),c=a(12164),h=a(78913),f=a(23246),g=a(68880),d=a(5434),m=a(53084),P=a(14426),b=a(2739);const p=e=>{const t=(e=>t=>{const a=(0,o.zG)(t,b.UI((([e,t,a])=>({hasFetchedAllPages:e,fetchDataParams:t,fetchDataAndBuildActions:a})))),r=(0,o.zG)(a,b.UP(e),b.EB((({fetchDataParams:e})=>e.page)),b.oE((({hasFetchedAllPages:e})=>!1===e)));return(0,o.zG)(r,b.Mm(a,((e,t)=>t)),b.zg((({fetchDataParams:e,fetchDataAndBuildActions:t})=>(0,o.zG)(t(e),P.XD(3)))))})((0,f.m)((({notifier$:e,footerRefOption$:t})=>a=>{const r=(0,o.zG)(a,b.UI((([e,t,a,o])=>({shouldDisableInfiniteScroll:e,fetchDataParams:t,intersectionObserverRoot:a,intersectionObserverRootMarginBottom:o})))),s=(0,o.zG)(r,b.DZ((({intersectionObserverRoot:e})=>e)),b.xb()),n=(0,o.zG)(r,b.UI((({intersectionObserverRootMarginBottom:e})=>e??2e3)),b.xb()),l=(0,o.zG)(r,b.UI((({fetchDataParams:e})=>e.page)),b.xb()),i=(0,o.zG)(b.aj([t,s,n,l]),b.wt((([e,t,a])=>(0,o.zG)(e,c.g_((()=>b.E_),(e=>(0,o.zG)(b.bH(e,{root:t,rootMargin:(0,m.Ae)({top:g.ZI,right:g.ZI,bottom:g.Ei(a),left:g.ZI})}),b.hX(m.Yu)))))))),h=(0,o.zG)(r,b.UI((e=>e.shouldDisableInfiniteScroll)),b.xb());return(0,o.zG)(r,b.UP(b.TS((0,o.zG)(b.aj([i,h]),b.hX((([e,t])=>!1===t))),e)))})({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.shouldDisableInfiniteScroll,e.fetchDataParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),a=[e.hasFetchedAllPages,e.fetchDataParams,e.fetchDataAndBuildActions],r=(0,f.m)(t,a);(0,d.Rd)(r)},u=({lastPageFetched:e,perPage:t,total:a})=>e>=(({total:e,perPage:t})=>Math.ceil(e/t))({total:a,perPage:t}),z=({feedState:e,feedItems:t,renderItems:a,getScrollFooterEl:r,...c})=>{const[f,g]=(0,n.m)((e=>(0,o.zG)(e,i.DZ))),d=(0,s.useMemo)((()=>(({lastPageFetched:e,perPage:t,orderBy:a})=>({page:e+1,perPage:t,orderBy:a}))(e)),[e]),m=(0,s.useMemo)((()=>u(e)),[e]);return p({fetchDataParams:d,hasFetchedAllPages:m,footerRefOption$:g,...c}),s.createElement(s.Fragment,null,a({items:t,hasFetchedAllPages:m,total:e.total}),s.createElement("div",{ref:f,...(0,h.N)(l.gZ)}),!1===m&&r())},D=({feedStateOption:e,feedItemsOption:t,getNoContentEl:a,getPlaceholderEl:n,...l})=>s.createElement(s.Fragment,null,(0,o.zG)(c.gz(e,t),c.UI((([e,t])=>(0,o.zG)(t,r.nI,c.g_(a,(t=>s.createElement(z,{feedState:e,feedItems:t,...l})))))),c.HV(n)))}}]);
//# sourceMappingURL=219.3f55da6f973110da1041.js.map